(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function c(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=c(n);fetch(n.href,o)}})();const r="booknest-cart";function m(){localStorage.getItem(r)||localStorage.setItem(r,JSON.stringify([]))}function a(){m();try{return JSON.parse(localStorage.getItem(r))||[]}catch{return localStorage.setItem(r,JSON.stringify([])),[]}}function l(t){localStorage.setItem(r,JSON.stringify(t))}function p(t){const e=a(),c=e.find(s=>s.title===t.title);c?c.count=(c.count||1)+1:e.push({...t,count:1}),l(e)}function S(){const t=document.getElementById("cart-count");if(!t)return;const c=a().reduce((s,n)=>s+(n.count||1),0);c>0?(t.textContent=c,t.style.display="inline-block"):(t.textContent="",t.style.display="none")}function v(t){const e=a();e.splice(t,1),l(e)}function C(t){const e=a();e[t].count=(e[t].count||1)+1,l(e)}function I(t){const e=a();e[t].count>1&&(e[t].count-=1,l(e))}const i="booknest-saved";function g(){localStorage.getItem(i)||localStorage.setItem(i,JSON.stringify([]))}function f(){g();try{return JSON.parse(localStorage.getItem(i))||[]}catch{return localStorage.setItem(i,JSON.stringify([])),[]}}function y(t){localStorage.setItem(i,JSON.stringify(t))}function E(t){const e=f();return e.some(s=>s.title===t.title)?!1:(e.push(t),y(e),!0)}function O(){const t=document.getElementById("save-count");if(!t)return;const e=f().length;e>0?(t.textContent=e,t.style.display="inline-block"):(t.textContent="",t.style.display="none")}document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".icon-menu"),e=document.getElementById("subMenu");t.addEventListener("click",function(){e.classList.toggle("open-menu")})});const d=document.getElementById("scrollBtn");window.addEventListener("scroll",()=>{document.body.scrollTop>350||document.documentElement.scrollTop>350?d.style.display="block":d.style.display="none"});d.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});export{E as a,p as b,S as c,a as d,I as e,f as g,C as i,v as r,O as u};
