(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const r="booknest-cart";function m(){localStorage.getItem(r)||localStorage.setItem(r,JSON.stringify([]))}function a(){m();try{return JSON.parse(localStorage.getItem(r))||[]}catch{return localStorage.setItem(r,JSON.stringify([])),[]}}function l(t){localStorage.setItem(r,JSON.stringify(t))}function p(t){const e=a(),o=e.find(c=>c.title===t.title);o?o.count=(o.count||1)+1:e.push({...t,count:1}),l(e)}function S(){const t=document.getElementById("cart-count");if(!t)return;const o=a().reduce((c,n)=>c+(n.count||1),0);o>0?(t.textContent=o,t.style.display="inline-block"):(t.textContent="",t.style.display="none")}function v(t){const e=a();e.splice(t,1),l(e)}function I(t){const e=a();e[t].count=(e[t].count||1)+1,l(e)}function O(t){const e=a();e[t].count>1&&(e[t].count-=1,l(e))}const i="booknest-saved";function g(){localStorage.getItem(i)||localStorage.setItem(i,JSON.stringify([]))}function f(){g();try{return JSON.parse(localStorage.getItem(i))||[]}catch{return localStorage.setItem(i,JSON.stringify([])),[]}}function y(t){localStorage.setItem(i,JSON.stringify(t))}function C(t){const e=f();return e.some(c=>c.title===t.title)?!1:(e.push(t),y(e),!0)}function h(){const t=document.getElementById("save-count");if(!t)return;const e=f().length;e>0?(t.textContent=e,t.style.display="inline-block"):(t.textContent="",t.style.display="none")}function E(t){const e=JSON.parse(localStorage.getItem("booknest-saved"));function o(n){return n.title!==t}const c=e.filter(o);localStorage.setItem("booknest-saved",JSON.stringify(c))}document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".icon-menu"),e=document.getElementById("subMenu");t.addEventListener("click",function(){e.classList.toggle("open-menu")})});const d=document.getElementById("scrollBtn");window.addEventListener("scroll",()=>{document.body.scrollTop>350||document.documentElement.scrollTop>350?d.style.display="block":d.style.display="none"});d.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});export{C as a,p as b,S as c,a as d,v as e,O as f,f as g,I as i,E as r,h as u};
