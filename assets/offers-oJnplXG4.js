import{c as l,u as m}from"./scrollToTop-uTMSSGLY.js";import"./offers-image-switcher-DJa-Dkkl.js";import"./shopping-cart-CRFrMUjX.js";const o=document.getElementById("offers-seasonal-generate-btn"),d=document.getElementById("offers-seasonal-code-box"),c=document.getElementById("offers-seasonal-code-value"),a="booknest-seasonal-promo";function p(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let s=0;s<8;s++)t+=e[Math.floor(Math.random()*e.length)];return"BN-"+t}function i(e){navigator.clipboard.writeText(e).then(()=>{const t=document.getElementById("promo-copy-btn");t.textContent="Copied!",t.classList.add("copied"),setTimeout(()=>{t.textContent="Copy Code",t.classList.remove("copied")},1500)})}function r(){o.disabled=!0,o.textContent="Code Generated",o.classList.add("disabled")}function u(e){c.textContent=e,d.classList.remove("hidden")}const n=localStorage.getItem(a);n&&(u(n),r(),setTimeout(()=>{const e=document.getElementById("promo-copy-btn");e&&(e.onclick=()=>i(n))},50));o&&o.addEventListener("click",()=>{if(o.disabled)return;const e=p();if(localStorage.setItem(a,e),c.textContent=e,d.classList.remove("hidden"),r(),!document.getElementById("promo-copy-btn")){const t=document.createElement("button");t.id="promo-copy-btn",t.classList.add("offers-seasonal__copy-btn"),t.textContent="Copy Code",d.appendChild(t),t.addEventListener("click",()=>i(e))}});window.addEventListener("DOMContentLoaded",()=>{l(),m()});
