(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const i=document.querySelector(".books-grid"),f=2400;function m(r){let t=r.title||"No title";const n=t.search(/[:;]/);return n>0&&(t=t.slice(0,n)),t}function l(){const r=Math.floor(Math.random()*f)+1;fetch(`https://gutendex.com/books?page=${r}`).then(t=>t.json()).then(t=>{t.results.sort(()=>.5-Math.random()).slice(0,6).forEach(e=>{const o=document.createElement("div");o.classList.add("book");const c=e.authors.map(u=>u.name).join(", "),a=e.formats["image/jpeg"]||"",d=m(e);o.innerHTML=`
          <img src="${a}" alt="${e.title}">
          <h3>${d}</h3>
          <p>${c}</p>
        `,i.appendChild(o)})}).catch(t=>console.error(t))}l();const h=document.querySelector(".load-more");h.addEventListener("click",()=>{l()});const p=document.querySelector(".books-filter");p.addEventListener("click",()=>{const r=Array.from(i.children);r.sort((t,n)=>{const s=t.querySelector("h3").textContent.toLowerCase(),e=n.querySelector("h3").textContent.toLowerCase();return s.localeCompare(e)}),i.innerHTML="",r.forEach(t=>i.appendChild(t))});
